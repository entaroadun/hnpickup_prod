<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Pawel Matykiewicz">

    <title>Hacker News Pickup Ratio and Rewind</title>

    <!-- Bootstrap Core CSS -->
    <link href="/libs/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="/libs/metisMenu/metisMenu.min.css" rel="stylesheet">

    <!-- DataTables CSS -->
    <link href="/libs/datatables-plugins/dataTables.bootstrap.css" rel="stylesheet">

    <!-- DataTables Responsive CSS -->
    <link href="/libs/datatables-responsive/dataTables.responsive.css" rel="stylesheet">
 
    <!-- Custom CSS -->
    <link href="/libs/sb-admin-2/css/sb-admin-2.min.css" rel="stylesheet">

    <!-- Morris Charts CSS -->
    <link href="/libs/morrisjs/morris.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="/libs/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create','UA-26837634-1','auto');
    ga('send','pageview');

    function populate_table_with_posts ( url, table_id, table_time_id ) {
      $.getJSON(url).done(function(data){$(table_id).dataTable({
	    data: data,
	    destroy: true,
	    paging: false,
	    searching: false,
	    ordering: false,
	    info: false,
	    fnRowCallback: function ( nRow, aData, iDisplayIndex, iDisplayIndexFull ) { if ( aData.compare == 1 ) { $(nRow).addClass('success'); } },
	    columns: [{"data":"rank"},{"data":"title"},{"data":"points"}],
	    columnDefs: [{
	    targets: 1,
	    render: function ( data, type, row, meta ) { return('<a href="'+row.url+'">'+data+'</a>'); }
	    },{
	    targets: 2,
	    render: function ( data, type, row, meta ) { return('<a href="https://news.ycombinator.com/item?id='+row.postid+'">'+data+'</a>'); }
	    }]
	    });$(table_time_id).text(Date(data[1].etime*1000).toString());
      });
    }

    function populate_graph_with_lines ( url, graph_id, field, click_callback ) {
      var days = ['Sun','Mon','Tue','Wed','Thur','Fri','Sat'];
      $.getJSON(url).done(function(data){
	  new Morris.Line({
	  resize: true,
	  hideHover: true,
          element: graph_id,
          data: data,
          xkey: 'etime',
          ykeys: [field],
          labels: [field],
          dateFormat: function (x) { return new Date(x*1000).toString(); },
	  xLabelFormat: function (x) { var d = new Date(x*1000); return days[d.getDay()]+' '+d.getHours()+':'+('0'+d.getMinutes()).slice(-2); },
	  goals: [0.0]
	  }).on('click',click_callback);
	  });
    }

    </script>

</head>

<body>

    <div id="wrapper">

        <!-- Navigation -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <a class="navbar-brand" href="/report/dashboard">Hacker News Pickup Ratio</a>
		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
		  <span class="sr-only">Toggle navigation</span>
		  <span class="icon-bar"></span>
		  <span class="icon-bar"></span>
		  <span class="icon-bar"></span>
		</button>
            </div>
            <!-- /.navbar-header -->
	    <!--
            <ul class="nav navbar-top-links navbar-right">
            </ul>
	    -->
            <!-- /.navbar-top-links -->
            <div class="collapse navbar-collapse navbar-default sidebar" role="navigation" id="bs-example-navbar-collapse-1">
                <div class="sidebar-nav">
                    <ul class="nav">
                        <li>
                            <a href="/report/dashboard"><i class="fa fa-dashboard fa-fw"></i> Full Dashboard</a>
                        </li>
                        <li>
                            <a href="/report/pickup"><i class="fa fa-line-chart fa-fw"></i> Pickup Ratio Chart</a>
                        </li>
                        <li>
                            <a href="/report/news"><i class="fa fa-table fa-fw"></i> Rewind News Table</a>
                        </li>
                        <li>
                            <a href="/report/newest"><i class="fa fa-table fa-fw"></i> Rewind Newest Table</a>
                        </li>
                    </ul>
                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->
        </nav>

        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">{{ report_name }}</h1>
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
	    {% block first_row %}
	    {% endblock %}
            <!-- /.row -->
	    {% block second_row %}
	    {% endblock %}
            <!-- /.row -->
	    {% block third_row %}
	    {% endblock %}
            <!-- /.row -->
        </div>
        <!-- /#page-wrapper -->
    </div>
    <!-- /#wrapper -->

    <!-- jQuery -->
    <script src="/libs/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/libs/bootstrap/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="/libs/metisMenu/metisMenu.min.js"></script>

    <!-- DataTables JavaScript -->
    <script src="/libs/datatables/js/jquery.dataTables.min.js"></script>
    <script src="/libs/datatables-plugins/dataTables.bootstrap.min.js"></script>
    <script src="/libs/datatables-responsive/dataTables.responsive.js"></script>
    
    <!-- Morris Charts JavaScript -->
    <script src="/libs/raphael/raphael.min.js"></script>
    <script src="/libs/morrisjs/morris.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="/libs/sb-admin-2/js/sb-admin-2.min.js"></script>

    <!-- Page-Level Scripts -->
    {% block script %}
    {% endblock %}

</body>

</html>
